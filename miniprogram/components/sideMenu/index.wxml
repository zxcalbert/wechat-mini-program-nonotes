<view class="side-menu-overlay {{showMenu ? 'show' : ''}}" bindtap="closeSideMenu"></view>

<view class="side-menu {{showMenu ? 'show' : ''}}">
  <view class="menu-header">
    <text class="menu-title">更多</text>
    <text class="close-btn" bindtap="closeSideMenu">✕</text>
  </view>

  <view class="menu-content">
    <!-- 写作热力统计 -->
    <view class="menu-section">
      <text class="section-title">写作热力分布</text>
      <view class="heatmap-container">
        <heatmap-calendar data="{{heatmapData}}" />
      </view>
    </view>

    <!-- 菜单项 -->
    <view class="menu-items">
      <view class="menu-item" bindtap="viewTrash">
        <text class="menu-icon">🗑️</text>
        <text class="menu-text">回收站</text>
      </view>
      
      <view class="menu-item" bindtap="openFontSettings">
        <text class="menu-icon">🔤</text>
        <text class="menu-text">字体设置</text>
      </view>

      <view class="menu-item" bindtap="viewStamps">
        <text class="menu-icon">🎫</text>
        <text class="menu-text">邮票（{{userStamps}}张）</text>
      </view>

      <!-- 邮票不足时显示购买提示 -->
      <view class="menu-item buy-stamp" wx:if="{{userStamps <= 1}}" bindtap="buyStamps">
        <text class="menu-icon">💰</text>
        <text class="menu-text urgent">邮票不足，点击购买</text>
      </view>

      <view class="menu-item" bindtap="viewAbout">
        <text class="menu-icon">ℹ️</text>
        <text class="menu-text">关于应用</text>
      </view>
      
      <view class="menu-item logout" bindtap="logout">
        <text class="menu-icon">↪️</text>
        <text class="menu-text">退出登录</text>
      </view>
    </view>
  </view>
</view>
