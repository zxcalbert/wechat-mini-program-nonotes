<view class="container">
  <view class="header" style="padding-top: {{statusBarHeight + 16}}px; padding-bottom: 16px;">
    <text class="back-btn" bindtap="goBack">тЖР</text>
    <text class="header-title">щВочеичобчРЖ</text>
  </view>

  <scroll-view scroll-y="true" class="content">
    <!-- щВочеиф╜ЩщвЭхНбчЙЗ -->
    <view class="stamp-card">
      <view class="stamp-icon">ЁЯОл</view>
      <view class="stamp-info">
        <text class="current-stamps">{{userStamps}}</text>
        <text class="stamps-label">х╝ащВочеи</text>
      </view>
    </view>

    <!-- хЕНш┤╣щВочеишп┤цШО -->
    <view class="info-section">
      <text class="section-title">ЁЯТЭ хЕНш┤╣щВочеи</text>
      <text class="info-text">цпПф╕кцЦ░чФицИ╖шО╖х╛Ч 3 х╝ахЕНш┤╣щВочеия╝МхПпчФиф║Ошп╖ц▒Вхдзх╕ИхЫЮф┐буАВ</text>
      <text class="info-text">цпПцмбшп╖ц▒ВхЫЮф┐бц╢ИшАЧ 1 х╝ащВочеиуАВ</text>
      <text class="info-text">чФихоМхРОщЬАшжБш┤нф╣░уАВ</text>
    </view>

    <!-- щВочеицЬ║хИ╢шп┤цШО -->
    <view class="mechanism-section">
      <text class="section-title">тП▒я╕П хЫЮф┐бцЬ║хИ╢</text>
      <view class="mechanism-item">
        <text class="mechanism-bullet">тАв</text>
        <text class="mechanism-text">хпДхЗ║чмФшо░хРОя╝Мхдзх╕Их░ЖхЬи 18 х░ПцЧ╢хЖЕхЫЮхдН</text>
      </view>
      <view class="mechanism-item">
        <text class="mechanism-bullet">тАв</text>
        <text class="mechanism-text">ш┐Щф╕кх╗╢ш┐ЯхПпф╗ех╕охКйф╜ац╖▒хЕецАЭшАГхТМхЖЩф╜Ь</text>
      </view>
      <view class="mechanism-item">
        <text class="mechanism-bullet">тАв</text>
        <text class="mechanism-text">цпПхдйцЬАхдЪхПпф╗ехпДф┐бф╕Ацмб</text>
      </view>
    </view>

    <!-- ш┤нф╣░щВочеи -->
    <view class="purchase-section" wx:if="{{userStamps < 10}}">
      <text class="section-title">ЁЯЫТ ш┤нф╣░щВочеи</text>
      
      <view class="stamp-package">
        <text class="package-name">хЯ║чбАхМЕ</text>
        <text class="package-stamps">3 х╝ащВочеи</text>
        <text class="package-price">┬е9.99</text>
        <button class="buy-btn" bindtap="buyPackage" data-stamps="3" data-price="9.99">ш┤нф╣░</button>
      </view>

      <view class="stamp-package popular">
        <text class="popular-badge">чГнщФА</text>
        <text class="package-name">ф╝Шф║лхМЕ</text>
        <text class="package-stamps">10 х╝ащВочеи</text>
        <text class="package-price">┬е24.99</text>
        <button class="buy-btn primary" bindtap="buyPackage" data-stamps="10" data-price="24.99">ш┤нф╣░</button>
      </view>

      <view class="stamp-package">
        <text class="package-name">чХЕф║лхМЕ</text>
        <text class="package-stamps">30 х╝ащВочеи</text>
        <text class="package-price">┬е59.99</text>
        <button class="buy-btn" bindtap="buyPackage" data-stamps="30" data-price="59.99">ш┤нф╣░</button>
      </view>
    </view>

    <!-- хОЖхП▓шо░х╜Х -->
    <view class="history-section">
      <text class="section-title">ЁЯУЛ ф╜┐чФишо░х╜Х</text>
      
      <view wx:if="{{history.length === 0}}" class="empty-history">
        <text class="empty-text">цЪВцЧаф╜┐чФишо░х╜Х</text>
      </view>

      <view wx:for="{{history}}" wx:key="index" class="history-item">
        <view class="history-header">
          <text class="history-action">{{item.action}}</text>
          <text class="history-change {{item.change > 0 ? 'positive' : 'negative'}}">
            {{item.change > 0 ? '+' : ''}}{{item.change}}
          </text>
        </view>
        <text class="history-time">{{item.time}}</text>
      </view>
    </view>
  </scroll-view>
</view>
